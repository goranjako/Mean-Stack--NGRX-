"use strict";(self.webpackChunkClient=self.webpackChunkClient||[]).push([[325],{7325:(Bt,y,s)=>{s.r(y),s.d(y,{ContactsModule:()=>Dt});var x=s(6895),E=s(7337),r=s(4006),J=s(5226),_=s.n(J),i=s(9653),d=(()=>{return(e=d||(d={})).LOAD_Contacts_REQUEST="[Contacts] Load Contacts Request",e.LOAD_Contacts_FAILURE="[Contacts] Load Contacts Failure",e.LOAD_Contacts_SUCCESS="[Contacts] Load Contacts Success",e.LOAD_REQUEST="[Contacts] Load Request",e.LOAD_FAILURE="[Contacts] Load Failure",e.LOAD_SUCCESS="[Contacts] Load Success",e.SAVE_REQUEST="[Contacts] Save",e.SAVE_FAILURE="[Contacts] Save Failure",e.SAVE_SUCCESS="[Contacts] Save Success",e.UPDATE_REQUEST="[Contacts] Update",e.UPDATE_FAILURE="[Contacts] Update Failure",e.UPDATE_SUCCESS="[Contacts] Update Success",e.DELETE_REQUEST="[Contacts] Delete",e.DELETE_FAILURE="[Contacts] Delete Failure",e.DELETE_SUCCESS="[Contacts] Delete Success",d;var e})();const O=(0,i.PH)(d.LOAD_Contacts_REQUEST,(0,i.Ky)()),Q=(0,i.PH)(d.LOAD_Contacts_SUCCESS,(0,i.Ky)()),P=(0,i.PH)(d.LOAD_Contacts_FAILURE,(0,i.Ky)()),R=(0,i.PH)(d.LOAD_REQUEST),b=(0,i.PH)(d.LOAD_FAILURE,(0,i.Ky)()),k=(0,i.PH)(d.LOAD_SUCCESS,(0,i.Ky)()),M=(0,i.PH)(d.SAVE_REQUEST,(0,i.Ky)()),D=(0,i.PH)(d.SAVE_FAILURE,(0,i.Ky)()),B=(0,i.PH)(d.SAVE_SUCCESS,(0,i.Ky)()),$=(0,i.PH)(d.UPDATE_REQUEST,(0,i.Ky)()),K=(0,i.PH)(d.UPDATE_FAILURE,(0,i.Ky)()),z=(0,i.PH)(d.UPDATE_SUCCESS,(0,i.Ky)()),H=(0,i.PH)(d.DELETE_REQUEST,(0,i.Ky)()),G=(0,i.PH)(d.DELETE_FAILURE,(0,i.Ky)()),m={loadContactsRequestAction:O,loadContactsSuccessAction:Q,loadContactsFailureAction:P,loadRequestAction:R,loadSuccessAction:k,loadFailureAction:b,saveRequestAction:M,saveSuccessAction:B,saveFailureAction:D,updateRequestAction:$,updateSuccessAction:z,updateFailureAction:K,deleteRequestAction:H,deleteSuccessAction:(0,i.PH)(d.DELETE_SUCCESS,(0,i.Ky)()),deleteFailureAction:G};var t=s(4650),S=s(529),C=s(262),j=s(2340),w=s(823);new S.WM({"Content-Type":"application/json"});let F=(()=>{class e{constructor(o,n){this.http=o,this.toast=n,this.ContactUrl=j.N.contactUrl}postContact(o){return this.http.post(this.ContactUrl,o).pipe((0,C.K)(this.handleError))}getContacts(){return this.http.get(this.ContactUrl).pipe((0,C.K)(this.handleError))}getContact(o){return this.http.get(`${this.ContactUrl}/${o}`).pipe((0,C.K)(this.handleError))}updateContact(o){return this.http.put(`${this.ContactUrl}/${o.update._id}`,o.update).pipe((0,C.K)(this.handleError))}deleteContact(o){return this.http.delete(`${this.ContactUrl}/${o}`).pipe((0,C.K)(this.handleError))}handleError(o){let n="";return o.error instanceof ErrorEvent?(n=o.error.message,window.confirm(n)):(n=`Error Code: ${o.status}\nMessage: ${o.message}`,window.confirm(n)),n}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(S.eN),t.LFG(w.J))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=s(8301),A=s(8423),h=s(1576),N=s(9549),L=s(4144),p=s(3546),q=s(4859),Y=s(7392);function V(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function X(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," firstName is required "),t.qZA())}function tt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! firstName must contain 2 or more sharacters! "),t.qZA())}function et(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function nt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," lastName is required "),t.qZA())}function ot(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! lastName must contain 2 or more sharacters! "),t.qZA())}function rt(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function at(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}function it(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a correct email format "),t.qZA())}function st(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function ct(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," address is required "),t.qZA())}function lt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! address must contain 2 or more sharacters! "),t.qZA())}function mt(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function ut(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone is required "),t.qZA())}function dt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! Mobile number is not 10 digit! "),t.qZA())}let pt=(()=>{class e{constructor(o,n,l,c,u){this.router=o,this.store=n,this.servis=l,this.toke=c,this.loading=u,this.swalWithBootstrapButtons=_().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),this.registerForm=new r.cw({firstName:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(2),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),lastName:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(2),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),email:new r.NI("",r.kI.compose([r.kI.required,r.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"),r.kI.maxLength(25)])),address:new r.NI("",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),phone:new r.NI("",r.kI.compose([r.kI.required,r.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]))})}ngOnInit(){this.getuser()}get firstName(){return this.registerForm.get("firstName")}get lastName(){return this.registerForm.get("lastName")}get email(){return this.registerForm.get("email")}get address(){return this.registerForm.get("address")}get phone(){return this.registerForm.get("phone")}onSubmit(o){const n={firstName:o.firstName,lastName:o.lastName,email:o.email,address:o.address,phone:o.phone,userId:this.userId};this.loading.show(),_().fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save"}).then(l=>{l.isConfirmed?(this.store.dispatch(m.saveRequestAction({newcontact:n})),_().fire("Saved!","","success"),this.loading.hide(),this.router.navigate(["/contacts"])):l.isDenied&&(_().fire("Changes are not saved","","info"),this.router.navigate(["/contacts"]))})}getuser(){return this.user=this.toke.getToken(),this.userId=this.user._id}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(E.F0),t.Y36(i.yh),t.Y36(F),t.Y36(v.e),t.Y36(A.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-contact"]],decls:52,vars:18,consts:[["fxLayout","row","fxLayoutAlign","center center",2,"margin-top","50px"],["fxFlex.xs","100%","fxFlex.gt-md","25%","fxFlex.sm","33%",1,"text-center",2,"margin-bottom","2px"],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matSuffix",""],["type","text","matInput","","placeholder","firstName","formControlName","firstName","name","firstName"],["matSuffix","","color","success",4,"ngIf"],[4,"ngIf"],["type","text","matInput","","placeholder","lastName","formControlName","lastName","name","firstName"],["type","email","matInput","","placeholder","Email address","formControlName","email","name","email"],["type","text","matInput","","placeholder","address","formControlName","address","name","address"],["type","tel","matInput","","placeholder","phone","formControlName","phone","name","phone"],["fxLayoutAlign","center center",1,"mb-2","px-3"],["mat-stroked-button","","color","primary",1,"button-p","button2",3,"disabled"],["bdColor","#f5f5f5","size","medium","color","#4285F4","type","ball-spin-clockwise-fade",3,"fullScreen"],[2,"font-size","20px","color","#4285F4"],["matSuffix","","color","success"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),t._uU(3,"Add Contact"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit(n.registerForm.value)}),t.TgZ(6,"p")(7,"mat-form-field",3)(8,"mat-icon",4),t._uU(9,"person"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,V,2,0,"mat-icon",6),t.YNc(12,X,2,0,"mat-error",7),t.YNc(13,tt,2,0,"mat-error",7),t.qZA()(),t.TgZ(14,"p")(15,"mat-form-field",3)(16,"mat-icon",4),t._uU(17,"person"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,et,2,0,"mat-icon",6),t.YNc(20,nt,2,0,"mat-error",7),t.YNc(21,ot,2,0,"mat-error",7),t.qZA()(),t.TgZ(22,"p")(23,"mat-form-field",3),t._UZ(24,"input",9),t.TgZ(25,"mat-icon",4),t._uU(26,"mail_outline blue-color"),t.qZA(),t.YNc(27,rt,2,0,"mat-icon",6),t.YNc(28,at,2,0,"mat-error",7),t.YNc(29,it,2,0,"mat-error",7),t.qZA()(),t.TgZ(30,"p")(31,"mat-form-field",3)(32,"mat-icon",4),t._uU(33,"home"),t.qZA(),t._UZ(34,"input",10),t.YNc(35,st,2,0,"mat-icon",6),t.YNc(36,ct,2,0,"mat-error",7),t.YNc(37,lt,2,0,"mat-error",7),t.qZA()(),t.TgZ(38,"p")(39,"mat-form-field",3)(40,"mat-icon",4),t._uU(41,"phone"),t.qZA(),t._UZ(42,"input",11),t.YNc(43,mt,2,0,"mat-icon",6),t.YNc(44,ut,2,0,"mat-error",7),t.YNc(45,dt,2,0,"mat-error",7),t.qZA()(),t.TgZ(46,"mat-card-actions",12)(47,"button",13),t._uU(48," Add "),t.qZA()()()()()(),t.TgZ(49,"ngx-spinner",14)(50,"p",15),t._uU(51," Loading... "),t.qZA()()),2&o){let l,c,u,g,Z;t.xp6(5),t.Q6J("formGroup",n.registerForm),t.xp6(6),t.Q6J("ngIf",!(null!=(l=n.registerForm.get("firstName"))&&l.errors)),t.xp6(1),t.Q6J("ngIf",null==n.firstName||null==n.firstName.errors?null:n.firstName.errors.required),t.xp6(1),t.Q6J("ngIf",n.registerForm.value.firstName),t.xp6(6),t.Q6J("ngIf",!(null!=(c=n.registerForm.get("lastName"))&&c.errors)),t.xp6(1),t.Q6J("ngIf",null==n.lastName||null==n.lastName.errors?null:n.lastName.errors.required),t.xp6(1),t.Q6J("ngIf",n.registerForm.value.lastName),t.xp6(6),t.Q6J("ngIf",!(null!=(u=n.registerForm.get("email"))&&u.errors)),t.xp6(1),t.Q6J("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),t.xp6(1),t.Q6J("ngIf",n.registerForm.value.email),t.xp6(6),t.Q6J("ngIf",!(null!=(g=n.registerForm.get("address"))&&g.errors)),t.xp6(1),t.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.required),t.xp6(1),t.Q6J("ngIf",n.registerForm.value.address),t.xp6(6),t.Q6J("ngIf",!(null!=(Z=n.registerForm.get("phone"))&&Z.errors)),t.xp6(1),t.Q6J("ngIf",null==n.phone||null==n.phone.errors?null:n.phone.errors.required),t.xp6(1),t.Q6J("ngIf",n.registerForm.value.phone),t.xp6(2),t.Q6J("disabled",!n.registerForm.valid),t.xp6(2),t.Q6J("fullScreen",!0)}},dependencies:[x.O5,h.xw,h.Wh,h.yH,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,N.TO,N.KE,N.R9,L.Nt,p.a8,p.dn,p.n5,p.hq,q.lW,Y.Hw,A.Ro],styles:["mat-card[_ngcontent-%COMP%]{border-radius:25px;border:1px solid #bfc3c7}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.button2[_ngcontent-%COMP%]{border-radius:16px;width:70%;justify-content:center;border:1px solid #bfc3c7;color:#4285f4}.mat-success[_ngcontent-%COMP%]{color:green}input[_ngcontent-%COMP%]{text-align:center}mat-icon[_ngcontent-%COMP%]{padding:1%}"]}),e})();const ft=(0,i.ZF)("contacts");function gt(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"div",7)(1,"mat-card",8)(2,"mat-card-header",9)(3,"mat-card-title")(4,"h1"),t._uU(5),t.qZA()()(),t.TgZ(6,"div",10)(7,"mat-card-content",11),t._UZ(8,"img",12),t.qZA(),t.TgZ(9,"mat-card-content",13)(10,"p")(11,"strong"),t._uU(12,"Address: "),t.qZA(),t._uU(13),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16,"Email: "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p")(19,"strong"),t._uU(20,"Phone: "),t.qZA(),t._uU(21),t.qZA()()(),t.TgZ(22,"mat-card-actions",14)(23,"button",15),t.NdJ("click",function(){const c=t.CHM(o).$implicit,u=t.oxw(2);return t.KtG(u.edit(c))}),t._uU(24,"Edit"),t.qZA(),t.TgZ(25,"button",15),t.NdJ("click",function(){const c=t.CHM(o).$implicit,u=t.oxw(2);return t.KtG(u.delete(c._id))}),t._uU(26,"Delete"),t.qZA()()()()}if(2&e){const o=a.$implicit,n=t.oxw(2);t.Q6J("fxFlex",100/n.gridColumns+"%"),t.xp6(5),t.Oqu(o.firstName+" "+o.lastName),t.xp6(8),t.Oqu(o.address),t.xp6(4),t.Oqu(o.email),t.xp6(4),t.Oqu(o.phone)}}function Ct(e,a){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"img",4),t.NdJ("click",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.add())}),t.qZA()(),t.TgZ(4,"div",5),t.YNc(5,gt,27,5,"div",6),t.ALo(6,"async"),t.qZA()(),t.BQk()}if(2&e){const o=t.oxw();t.xp6(5),t.Q6J("ngForOf",t.lcZ(6,1,o.contacts))}}function ht(e,a){1&e&&(t.TgZ(0,"ngx-spinner",16)(1,"p",17),t._uU(2," Loading... "),t.qZA()()),2&e&&t.Q6J("fullScreen",!0)}function At(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function Zt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," firstName is required "),t.qZA())}function xt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! firstName must contain 2 or more sharacters! "),t.qZA())}function Et(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function Nt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," lastName is required "),t.qZA())}function Tt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! lastName must contain 2 or more sharacters! "),t.qZA())}function Ut(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function It(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email is required "),t.qZA())}function St(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a correct email format "),t.qZA())}function Ft(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function vt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," address is required "),t.qZA())}function qt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! address must contain 2 or more sharacters! "),t.qZA())}function yt(e,a){1&e&&(t.TgZ(0,"mat-icon",16),t._uU(1,"check_circle"),t.qZA())}function wt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone is required "),t.qZA())}function Lt(e,a){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Error! Mobile number is not 10 digit! "),t.qZA())}const Yt=[{path:"",component:(()=>{class e{constructor(o,n,l,c){this.store=o,this.router=n,this.token=l,this.loading=c,this.swalWithBootstrapButtons=_().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),this.gridColumns=4,this.store.dispatch(m.loadRequestAction())}ngOnInit(){this.contacts=this.store.pipe((0,i.Ys)(ft))}trackByMethod(o,n){return n._id}add(){this.router.navigate(["contacts/add"])}edit(o){this.router.navigate(["contacts/edit",o])}delete(o){this.swalWithBootstrapButtons.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(n=>{n.isConfirmed?(this.store.dispatch(m.deleteRequestAction({id:o})),this.swalWithBootstrapButtons.fire("Deleted!","Your contact has been deleted.","success")):n.dismiss===_().DismissReason.cancel&&this.swalWithBootstrapButtons.fire("Cancelled","Your contact is safe ","error")})}toggleGridColumns(){this.gridColumns=3===this.gridColumns?4:3}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.yh),t.Y36(E.F0),t.Y36(v.e),t.Y36(A.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contacts"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"content"],[2,"padding","1%","width","2%","margin-left","90%"],["mat-card-image","","src","../../assets/Person.png","alt","Contacts",2,"color","blue",3,"click"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"mat-elevation-z4"],[2,"margin-left","auto","margin-left","auto"],["fxLayout","row wrap"],["fxFlex","10",2,"margin","2%"],["mat-card-image","","src","../../assets/contact.png","alt","Contacts"],["fxLayout","column ","fxFlex","70",2,"margin-left","10%"],["fxLayoutAlign","end"],["mat-button","",3,"click"],["bdColor","#f5f5f5","size","medium","color","#4285F4","type","ball-spin-clockwise-fade",3,"fullScreen"],[2,"font-size","20px","color","#4285F4"]],template:function(o,n){if(1&o&&(t.YNc(0,Ct,7,3,"ng-container",0),t.YNc(1,ht,3,1,"ng-template",null,1,t.W1O)),2&o){const l=t.MAs(2);t.Q6J("ngIf",n.contacts)("ngIfElse",l)}},dependencies:[x.sg,x.O5,h.xw,h.SQ,h.Wh,h.yH,p.a8,p.dk,p.dn,p.n5,p.hq,p.G2,q.lW,A.Ro,x.Ov],styles:[".content[_ngcontent-%COMP%]{padding:16px}.content[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:16px}"]}),e})()},{path:"add",component:pt},{path:"edit",component:(()=>{class e{constructor(o,n,l,c,u,g,Z){this.route=o,this.router=n,this.store=l,this.toast=c,this.servis=u,this.toke=g,this.loading=Z,this.editForm=new r.cw({firstName:new r.NI(null,r.kI.compose([r.kI.required,r.kI.minLength(2),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),lastName:new r.NI(null,r.kI.compose([r.kI.required,r.kI.minLength(2),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),email:new r.NI(null,r.kI.compose([r.kI.required,r.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$"),r.kI.maxLength(25)])),address:new r.NI(null,r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.pattern("[a-zA-Z0-9_-]{3,15}$")])),phone:new r.NI(null,r.kI.compose([r.kI.required,r.kI.pattern("^((\\+91-?)|0)?[0-9]{10}$")]))}),this.data=this.route.snapshot.params}ngOnInit(){this.getcontact()}get firstName(){return this.editForm.get("firstName")}get lastName(){return this.editForm.get("lastName")}get email(){return this.editForm.get("email")}get address(){return this.editForm.get("address")}get phone(){return this.editForm.get("phone")}getcontact(){this.editForm.setValue({firstName:this.data.firstName,lastName:this.data.lastName,email:this.data.email,address:this.data.address,phone:this.data.phone})}onSubmit(o){const n={_id:this.data._id,firstName:o.firstName,lastName:o.lastName,email:o.email,address:o.address,phone:o.phone,userId:this.data.userId};_().fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save"}).then(l=>{l.isConfirmed?(this.store.dispatch(m.updateRequestAction({update:n})),_().fire("Saved!","","success"),this.loading.hide(),this.router.navigate(["/contacts"])):l.isDenied&&(_().fire("Changes are not saved","","info"),this.router.navigate(["/contacts"]))})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(E.gz),t.Y36(E.F0),t.Y36(i.yh),t.Y36(w.J),t.Y36(F),t.Y36(v.e),t.Y36(A.t2))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-contact"]],decls:52,vars:18,consts:[["fxLayout","row","fxLayoutAlign","center center",2,"margin-top","50px"],["fxFlex.xs","100%","fxFlex.gt-md","25%","fxFlex.sm","33%",1,"text-center",2,"margin-bottom","2px"],[3,"formGroup","ngSubmit"],[1,"example-full-width"],["matSuffix",""],["type","text","matInput","","placeholder","firstName","formControlName","firstName","name","firstName"],["matSuffix","","color","success",4,"ngIf"],[4,"ngIf"],["type","text","matInput","","placeholder","lastName","formControlName","lastName","name","firstName"],["type","email","matInput","","placeholder","Email address","formControlName","email","name","email"],["type","text","matInput","","placeholder","address","formControlName","address","name","address"],["type","tel","matInput","","placeholder","phone","formControlName","phone","name","phone"],["fxLayoutAlign","center center",1,"mb-2","px-3"],["mat-stroked-button","","color","primary",1,"button-p","button2",3,"disabled"],["bdColor","#f5f5f5","size","medium","color","#4285F4","type","ball-spin-clockwise-fade",3,"fullScreen"],[2,"font-size","20px","color","#4285F4"],["matSuffix","","color","success"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title"),t._uU(3,"Edit Contact"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit(n.editForm.value)}),t.TgZ(6,"p")(7,"mat-form-field",3)(8,"mat-icon",4),t._uU(9,"person"),t.qZA(),t._UZ(10,"input",5),t.YNc(11,At,2,0,"mat-icon",6),t.YNc(12,Zt,2,0,"mat-error",7),t.YNc(13,xt,2,0,"mat-error",7),t.qZA()(),t.TgZ(14,"p")(15,"mat-form-field",3)(16,"mat-icon",4),t._uU(17,"person"),t.qZA(),t._UZ(18,"input",8),t.YNc(19,Et,2,0,"mat-icon",6),t.YNc(20,Nt,2,0,"mat-error",7),t.YNc(21,Tt,2,0,"mat-error",7),t.qZA()(),t.TgZ(22,"p")(23,"mat-form-field",3),t._UZ(24,"input",9),t.TgZ(25,"mat-icon",4),t._uU(26,"mail_outline blue-color"),t.qZA(),t.YNc(27,Ut,2,0,"mat-icon",6),t.YNc(28,It,2,0,"mat-error",7),t.YNc(29,St,2,0,"mat-error",7),t.qZA()(),t.TgZ(30,"p")(31,"mat-form-field",3)(32,"mat-icon",4),t._uU(33,"home"),t.qZA(),t._UZ(34,"input",10),t.YNc(35,Ft,2,0,"mat-icon",6),t.YNc(36,vt,2,0,"mat-error",7),t.YNc(37,qt,2,0,"mat-error",7),t.qZA()(),t.TgZ(38,"p")(39,"mat-form-field",3)(40,"mat-icon",4),t._uU(41,"phone"),t.qZA(),t._UZ(42,"input",11),t.YNc(43,yt,2,0,"mat-icon",6),t.YNc(44,wt,2,0,"mat-error",7),t.YNc(45,Lt,2,0,"mat-error",7),t.qZA()(),t.TgZ(46,"mat-card-actions",12)(47,"button",13),t._uU(48," Add "),t.qZA()()()()()(),t.TgZ(49,"ngx-spinner",14)(50,"p",15),t._uU(51," Loading... "),t.qZA()()),2&o){let l,c,u,g,Z;t.xp6(5),t.Q6J("formGroup",n.editForm),t.xp6(6),t.Q6J("ngIf",!(null!=(l=n.editForm.get("firstName"))&&l.errors)),t.xp6(1),t.Q6J("ngIf",null==n.firstName||null==n.firstName.errors?null:n.firstName.errors.required),t.xp6(1),t.Q6J("ngIf",n.editForm.value.firstName),t.xp6(6),t.Q6J("ngIf",!(null!=(c=n.editForm.get("lastName"))&&c.errors)),t.xp6(1),t.Q6J("ngIf",null==n.lastName||null==n.lastName.errors?null:n.lastName.errors.required),t.xp6(1),t.Q6J("ngIf",n.editForm.value.lastName),t.xp6(6),t.Q6J("ngIf",!(null!=(u=n.editForm.get("email"))&&u.errors)),t.xp6(1),t.Q6J("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),t.xp6(1),t.Q6J("ngIf",n.editForm.value.email),t.xp6(6),t.Q6J("ngIf",!(null!=(g=n.editForm.get("address"))&&g.errors)),t.xp6(1),t.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.required),t.xp6(1),t.Q6J("ngIf",n.editForm.value.address),t.xp6(6),t.Q6J("ngIf",!(null!=(Z=n.editForm.get("phone"))&&Z.errors)),t.xp6(1),t.Q6J("ngIf",null==n.phone||null==n.phone.errors?null:n.phone.errors.required),t.xp6(1),t.Q6J("ngIf",n.editForm.value.phone),t.xp6(2),t.Q6J("disabled",!n.editForm.valid),t.xp6(2),t.Q6J("fullScreen",!0)}},dependencies:[x.O5,h.xw,h.Wh,h.yH,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,N.TO,N.KE,N.R9,L.Nt,p.a8,p.dn,p.n5,p.hq,q.lW,Y.Hw,A.Ro],styles:["mat-card[_ngcontent-%COMP%]{border-radius:25px;border:1px solid #bfc3c7}.mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.button2[_ngcontent-%COMP%]{border-radius:16px;width:70%;justify-content:center;border:1px solid #bfc3c7;color:#4285f4}.mat-success[_ngcontent-%COMP%]{color:green}input[_ngcontent-%COMP%]{text-align:center}mat-icon[_ngcontent-%COMP%]{padding:1%}"]}),e})()}];let Jt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[E.Bz.forChild(Yt),E.Bz]}),e})();var Ot=s(9814),Qt=s(2454),f=s(493),I=s(3900),T=s(9646),Pt=s(5577),U=s(4004);let Rt=(()=>{class e{constructor(o,n,l){this.dataService=o,this.actions$=n,this.store=l,this.loadCustomersRequestEffect$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(m.loadContactsRequestAction),(0,I.w)(c=>this.dataService.getContact(c.id).pipe((0,U.U)(g=>m.loadContactsSuccessAction({contact:g})),(0,C.K)(g=>(0,T.of)(m.loadContactsFailureAction({error:g}))))))),this.loadRequestEffect$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(m.loadRequestAction),(0,Pt.z)(()=>this.dataService.getContacts().pipe((0,U.U)(c=>m.loadSuccessAction({contact:c})),(0,C.K)(c=>(0,T.of)(m.loadFailureAction({error:c}))))))),this.saveRequestEffect$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(m.saveRequestAction),(0,I.w)(c=>this.dataService.postContact(c.newcontact).pipe((0,U.U)(u=>m.saveSuccessAction({newcontact:u})),(0,C.K)(u=>(0,T.of)(m.saveFailureAction({error:u}))))))),this.updateRequestEffect$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(m.updateRequestAction),(0,I.w)(c=>this.dataService.updateContact(c).pipe((0,U.U)(u=>m.updateSuccessAction({update:u})),(0,C.K)(u=>(0,T.of)(m.updateFailureAction({error:u}))))))),this.deleteRequestEffect$=(0,f.GW)(()=>this.actions$.pipe((0,f.l4)(m.deleteRequestAction),(0,I.w)(c=>this.dataService.deleteContact(c.id).pipe((0,U.U)(()=>m.deleteSuccessAction({id:c.id})),(0,C.K)(u=>(0,T.of)(m.deleteFailureAction({error:u})))))))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(F),t.LFG(f.eX),t.LFG(i.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const kt=(0,i.Lq)([],(0,i.on)(m.loadSuccessAction,(e,{contact:a})=>a),(0,i.on)(m.loadContactsSuccessAction,(e,{contact:a})=>a),(0,i.on)(m.deleteSuccessAction,(e,{id:a})=>e.filter(n=>n._id!==a)),(0,i.on)(m.updateSuccessAction,(e,{update:a})=>{let o=e.filter(n=>n._id!=a.id);return o.unshift(a),o}),(0,i.on)(m.saveSuccessAction,(e,{newcontact:a})=>{let o=[...e];return o.unshift(a),o}),(0,i.on)(m.saveFailureAction,(e,a)=>({...e,error:a})));var Mt=s(6134);let Dt=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[x.ez,Jt,Ot.o9,r.u5,r.UX,S.JF,Qt.q,Mt.ii.forChild(),A.ef,i.Aw.forFeature("contacts",kt),f.sQ.forFeature([Rt])]}),e})()}}]);